<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>띠별 운세 상세</title>
    <meta name="description" content="띠별 상세 운세를 확인하세요. 종합운, 재물운, 직장운, 건강운, 대인관계운.">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Google AdSense 자동 광고 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2438640431184534"
         crossorigin="anonymous"></script>
    
    <!-- 카카오톡 공유 SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"
         integrity="sha384-TiCUE00h+9FEe4FHyE7c/9O+Nk8XTmD8RivH5/0vD3HtX8eZ3FDPWaQnE3+Q1lLb"
         crossorigin="anonymous"></script>
    <script>
        Kakao.init('27e9da30e66de45bc054ba884c3bd150');
    </script>
    
    <!-- 무효 트래픽 방지 -->
    <script>
        // 페이지 로드 시간 기록
        window.pageLoadTime = new Date().getTime();
        
        // 의심스러운 클릭 패턴 감지
        let clickCount = 0;
        let lastClickTime = 0;
        
        document.addEventListener('click', function(e) {
            const currentTime = new Date().getTime();
            const timeDiff = currentTime - lastClickTime;
            
            // 너무 빠른 연속 클릭 감지 (1초 이내)
            if (timeDiff < 1000) {
                clickCount++;
                if (clickCount > 3) {
                    console.warn('Suspicious click pattern detected');
                }
            } else {
                clickCount = 0;
            }
            
            lastClickTime = currentTime;
        });
        
        // 페이지 체류 시간 추적
        window.addEventListener('beforeunload', function() {
            const stayTime = new Date().getTime() - window.pageLoadTime;
            // 체류 시간이 너무 짧으면 로그 (3초 미만)
            if (stayTime < 3000) {
                console.warn('Very short stay time: ' + stayTime + 'ms');
            }
        });
    </script>
</head>
<body>
    <div class="detail-container">
        <a href="index.html" class="back-button">← 돌아가기</a>
        
        <div class="detail-header" id="detail-header">
            <!-- JavaScript로 생성됩니다 -->
        </div>
        
        <!-- 카카오톡 공유 버튼 -->
        <div style="text-align: center; margin-bottom: 20px;">
            <button id="kakao-share-btn" style="background: #FEE500; border: none; border-radius: 8px; padding: 12px 24px; cursor: pointer; font-size: 1em; font-weight: 600; color: #3C1E1E; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" style="width: 20px; vertical-align: middle; margin-right: 8px;" />
                카카오톡 공유하기
            </button>
        </div>

        <div id="fortune-content">
            <div class="loading">운세를 불러오는 중...</div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="detail.js"></script>
</body>
</html>
